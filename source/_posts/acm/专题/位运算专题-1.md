title: 位运算专题_1
tags:
  - 资料
categories:
  - acm
date: 2016-11-30 17:38:00
---
就 摘录于此，省去些麻烦
<!--more-->
---
> ** 1. and运算 **      
	and运算通常用于二进制取位操作，例如一个数 and 1的结果就是取二进制的最末位。这可以用来判断一个整数的奇偶，二进制的 最末位为0表示该数为偶数，最末位为1表示该数为奇数.
 === 2. or运算 ===      
 	or运算通常用于二进制特定位上的无条件赋值，例如一个数or 1的结果就是把二进制最末位强行变成1。如果需要把二进制最末位 变成0，对这个数or 1之后再减一就可以了，其实际意义就是把这个数强行变成最接近的偶数。 
 === 3. xor运算 ===      
 	xor运算通常用于对二进制的特定一位进行取反操作，因为异或可以这样定义：0和1异或0都不变，异或1则取反。     xor运算的逆运算是它本身，**也就是说两次异或同一个数最后结果不变**，即(a xor b) xor b = a。**且满足交换和分配律**。
 	xor运算可以用于简单的加密，比如我想对我MM说1314520，但怕别人知道，于是双方约定拿我的生日19880516作为密钥。1314520 xor 19880516 = 20665500，我就 把20665500告诉MM。MM再次计算20665500 xor 19880516的值，得到1314520，于是她就明白了我的企图。
 === 6. shr运算 (right,>>)===     
    和shl相似，a shr b表示二进制右移b位（去掉末b位），相当于a除以2的b次方（取整）。我们也经常用shr 1来代替 / 2，比如二分查找、堆的插入操作等等。想办法用shr代替除法运算可以使程序效率大大提高。最大公约数的二进制算法用除以2操作来代 替慢得出奇的mod运算，效率可以提高60%。
 ===位运算的简单应用===     
   有时我们的程序需要一个规模不大的Hash表来记录状态。比如，做数独时我们需要27个Hash表来统计每一行、每一列和每一个小九宫格里已经有哪些数了。此时，我们可以用27个小于2^9的整数进行记录。例如，一个只填了2和5的小九宫格就用数字18表示（二进制为000010010），而某一行的状态为511则表示这一行已经填满。需要改变状态时我们不需要把这个数转成二进制修改后再转回去，而是直接进行位操作。在搜索时，把状态表示成整数可以更好地进行判重等操作。这道题是在搜索中使用位运算加速的经典例子。以后 我们会看到更多的例子。      下面列举了一些常见的二进制位的变换操作。      


功能|示例|位运算
----------------------|----------------------|----------------------
去掉最后一位| (101101->10110)| x << 1 
在最后加一个0| (101101->1011010)| x << 1 
在最后加一个1| (101101->1011011)| x << 1+1 
把最后一位变成1| (101100->101101)| x or 1 
把最后一位变成0| (101101->101100)| x or 1-1 
最后一位取反| (101101->101100)| x xor 1  
把右数第k位变成1| (101001->101101,k=3)| x or (1 << (k-1)) 
把右数第k位变成0| (101101->101001,k=3)| x and not (1 << (k-1)) 
右数第k位取反| (101001->101101,k=3)| x xor (1 << (k-1))  
取末三位| (1101101->101)| x and 7 
取末k位| (1101101->1101,k=5)| x and (1 << k-1) 
取右数第k位| (1101101->1,k=4)| x << (k-1) and 1 
把末k位变成1| (101001->101111,k=4)| x or (1 << k-1) 
末k位取反| (101001->100110,k=4)| x xor (1 << k-1) 
把右边连续的1变成0| (100101111->100100000)| x and (x+1) 
把右起第一个0变成1| (100101111->100111111)| x or (x+1) 
把右边连续的0变成1| (11011000->11011111)| x or (x-1) 
取右边连续的1| (100101111->1111)| (x xor (x+1)) << 1 
去掉右起第一个1的左边| (100101000->1000)| x and (x xor (x-1))        

最后这一个在树状数组中会用到。 


以上全部引用 用的到再说。